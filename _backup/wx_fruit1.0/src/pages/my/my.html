<!--
  Generated template for the MyPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header no-border>

  <ion-navbar color="customBlue">
    <ion-title item-first>用户中心</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>
  <ion-item no-lines *ngIf="appService._wxUser" color="secondary" id="top">
    <ion-avatar item-start>
      <img [src]="appService._wxUser.headimgurl" style="width:80px; height:80px;">
    </ion-avatar>
    <h1><span>{{appService._wxUser.nickname}}</span></h1>
  </ion-item>
  <ng-container *ngIf="!appService._wxUser">
    <button *ngIf="!appService.isWeixinBrowser()" ion-button (click)="login()" block large color="secondary">帐号登录</button>
  </ng-container>
  <ion-list padding no-lines>
    <ng-container *ngIf="appService._wxUser">
      <button ion-item (click)="gotoAddress()" block>
        <!-- <ion-icon name="address"></ion-icon> -->
        <span class="fa fa-home"></span>
       收货地址管理
      </button>
      <button ion-item block (click)="goOrderList()"> 
        <!-- <ion-icon name="address"></ion-icon> -->
        <span class="fa fa-list-alt"></span>
       我的订单
      </button>
      <button ion-item block *ngIf="appService._wxUser.ShopMember.Balance>0">
          <span class="fa fa-id-card-o" ></span>
          会员卡余额:￥{{appService._wxUser.ShopMember.Balance.toFixed(2)}}
        </button>
      <button ion-item (click)="memberRecharge()" block>
        <span class="fa fa-cc-visa"></span>
        <!-- <ion-icon name="address"></ion-icon> -->
       会员卡充值
      </button>
      <!-- <a href="http://m.wjhaomama.com/Home/NomarlGet" block>
 <ion-icon name="address"></ion-icon> 
         B OPenId
      </a> -->
      <button ion-item (click)="goScan()">
          <span class="fa fa-qrcode" ></span>
        商家扫码
      </button>
      <button ion-item (click)="goUpdate()">
          <span class="fa fa-wrench" aria-hidden="true"></span>
        版本更新
      </button>
      <button ion-item (click)="logout()">
        <span class="fa fa-sign-out" aria-hidden="true"></span>
      退出登陆
    </button>
    </ng-container>
  </ion-list>
</ion-content>
